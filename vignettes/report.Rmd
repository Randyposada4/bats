---
title: " Summer Research Project: Bats "
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{report}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
highlight: Tango
theme: Sandstone
---

***
#### *By Randy Posada*
```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, include= FALSE}
library(rotl)

```

```{r out.width = "100%",out.height= "50%", fig.align = "center", echo=FALSE }
knitr::include_graphics("../images/Batphoto1.jpg")
```
*Fig.cap="[See attributions for link](#Attributions)*
```{r}
getwd()

```
***

# **My Report**

## *Overview*

  In this report I use the OpenTree of life alongside Physcraper to create and access an updated phylogentic tree of all bats.

  There are over 1000 different species of bats. These extraordinary flying mammals use their hands to fly; granted their order name *chiroptera*, which translates in Greek to 'Hand Wings'. Each of their fingers are connected to one another through a thin layer of skin which allows these nocturnal mammals to take off into flight. Chiroptera are the only mammals with the capability of continued flight. 

***

```{r Setup}

install.packages("ape")
install.packages("phyloch")
install.packages("devtools")

 library(rotl)
library(devtools)
library(stringr)
devtools::install_github("phylotastic/datelife")
library(datelife)

```

```{r}

my_taxa <- c("chiroptera")
resolved_names <- rotl::tnrs_match_names(names = my_taxa)

resolved_names

```

```{r}
class(resolved_names)


```
```{r}
resolved_names[1,]

```
```{r}
resolved_names[1,"unique_name"]
```
```{r}
rotl::tol_about()
```
```{r}
chiroptera_ott_id <- rotl::tnrs_match_names("Chiroptera")$ott_id


list(chiroptera_ott_id)
```

```{r}
chiroptera_ott_id
```



```{r}
chiroptera_subtree <- rotl::tol_subtree(ott_id = chiroptera_ott_id)
```


```{r}
rotl::is_in_tree(chiroptera_ott_id)

```

```{r}
chiroptera_node_info <- rotl::tol_node_info(chiroptera_ott_id)
chiroptera_node_info
```

```{r inculde= FALSE}
my_tree <- rotl::tol_induced_subtree(chiroptera_ott_id)


ape::plot.phylo(my_tree, cex = 2) # or just plot(my_tree, cex = 2)
```

```{r}
chiroptera_families <- datelife::get_ott_children(chiroptera_ott_id, ott_rank = "family")

chiroptera_ott_id
```

# notes for luna 
  need help with 
  - NA values
  - checking resolved names, maybe typo
  - help finalizing tree
  - won let me knit the data
  - git hub "m"
                

# Attributions
[bat image](https://unsplash.com/photos/hNz4Qh9ECCc)
